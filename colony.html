<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Testseite</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/bootstrap-responsive.css" rel="stylesheet">
    <link href="css/main.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="ico/favicon.ico">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="ico/apple-touch-icon-57-precomposed.png">
  </head>

  <body id="techtree">

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="#">nouron</a>
          <div class="nav-collapse collapse">
            <p class="navbar-text pull-right">
              Logged in as <a href="#" class="navbar-link">Username</a>
            </p>
            <ul class="nav">
              <li><a href="innn.html">INNN</a></li>
              <li class="active"><a href="colony.html">Colony</a></li>
              <li><a href="#trade">Trade</a></li>
              <li><a href="galaxy.html">Galaxy</a></li>
              <li><a href="#diplomacy">Diplomacy</a></li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>
    
    <div class="container">
      <div class="row-fluid" style="text-align:center">
        <a data-placement="bottom" rel="tooltip" href="#" data-original-title="Ticks"><i class="icon-time"></i> 5 </a>
        <a data-placement="bottom" rel="tooltip" href="#" data-original-title="Credits"><i class="icon-globe"></i> 123456 </a>
        <a data-placement="bottom" rel="tooltip" href="#" data-original-title="Supply"><i class="icon-user"></i> 155/322 </a>
        <a data-placement="bottom" rel="tooltip" href="#" data-original-title="Moral"><i class="icon-globe"></i> gut </a>
        <a data-placement="bottom" rel="tooltip" href="#" data-original-title="Eisen"><i class="icon-align-justify"></i> 12345 </a>
        <a data-placement="bottom" rel="tooltip" href="#" data-original-title="Wasser"><i class="icon-tint"></i> 12345 </a>
        <a data-placement="bottom" rel="tooltip" href="#" data-original-title="Silikate"><i class="icon-leaf"></i> 12345 </a>
        <a data-placement="bottom" rel="tooltip" href="#" data-original-title=""><i class="icon-globe"></i> 12345 </a>
        <a data-placement="bottom" rel="tooltip" href="#" data-original-title=""><i class="icon-globe"></i> 12345 </a>
        <a data-placement="bottom" rel="tooltip" href="#" data-original-title=""><i class="icon-globe"></i> 12345 </a>
      </div>

      <hr />
      <div class="row-fluid">
        <div id="myCarousel" class="carousel slide row-fluid">
          <!-- Carousel items -->
          <div class="carousel-inner">
            <div class="active item" id="stage1" style="position: relative;">
              <div class="span10 offset1" style="position:absolute">
                <div class="row-fluid">
                  <span class="span2 a1" id="a1"><a href="#techModal" role="button" class="btn btn-block" data-toggle="modal">test</a></span>
                  <span class="span2 a2" id="a2"></span>
                  <span class="span2 a3" id="a3"><a href="#" class="btn btn-block">test</a></span>
                  <span class="span2 a4"></span>
                  <span class="span2 a5"><a href="#" class="btn btn-block">test</a></span>
                  <span class="span2 a6"><a href="#" class="btn btn-block">test</a></span>
                </div>
                <div class="row-fluid">
                  <span class="span2 b1"></span>
                  <span class="span2 b2"></span>
                  <span class="span2 b3" id="b3"><a href="#" class="btn btn-block">test</a></span>
                  <span class="span2 b4"><a href="#" class="btn btn-block">test</a></span>
                  <span class="span2 b5"><a href="#" class="btn btn-block">test</a></span>
                </div>
                <div class="row-fluid">
                  <span class="span2 c1"><a href="#" class="btn btn-block">test</a></span>
                  <span class="span2 c2"><a href="#" class="btn btn-block">test</a></span>
                  <span class="span2 c3"><a href="#" class="btn btn-block">test</a></span>
                  <span class="span2 c4"><a href="#" class="btn btn-block">test</a></span>
                  <span class="span2 c5"><a href="#" class="btn btn-block">test</a></span>
                </div>
                <div class="row-fluid">
                  <span class="span2 d1"><a href="#techModal" role="button" class="btn btn-block" data-toggle="modal">test</a></span>
                </div>
                <div class="row-fluid">
                  <span class="span2 e1"><a href="#techModal" role="button" class="btn btn-block" data-toggle="modal">test</a></span>
                </div>
                <div class="row-fluid">
                  <span class="span2 f1"><a href="#techModal" role="button" class="btn btn-block" data-toggle="modal">test</a></span>
                </div>
              </div>
              <svg id="stage1-svg" height="100%" width="100%" stye="position: absolute; background-color: #bbb">
                <!-- svg content via javascript -->
              </svg>
            </div>
            <div class="item" id="stage2">
              <div class="span10 offset1">
                <div class="row-fluid">
                  <span class="span2 a1"><a href="#" class="btn btn-block">22222</a></span>
                  <span class="span2 a2"></span>
                  <span class="span2 a3"><a href="#" class="btn btn-block">22222</a></span>
                  <span class="span2 a4"></span>
                  <span class="span2 a5"><a href="#" class="btn btn-block">22222</a></span>
                </div>
                <div class="row-fluid">
                  <span class="span2 b1"><a href="#" class="btn btn-block">22222</a></span>
                  <span class="span2 b2"><a href="#" class="btn btn-block">22222</a></span>
                  <span class="span2 b3"><a href="#" class="btn btn-block">22222</a></span>
                  <span class="span2 b4"><a href="#" class="btn btn-block">22222</a></span>
                  <span class="span2 b5"><a href="#" class="btn btn-block">22222</a></span>
                </div>
                <div class="row-fluid">
                  <span class="span2 c1"><a href="#" class="btn btn-block">22222</a></span>
                  <span class="span2 c2"><a href="#" class="btn btn-block">22222</a></span>
                  <span class="span2 c3"><a href="#" class="btn btn-block">22222</a></span>
                  <span class="span2 c4"><a href="#" class="btn btn-block">22222</a></span>
                  <span class="span2 c5"><a href="#" class="btn btn-block">22222</a></span>
                </div>
              </div>
            </div>
          </div>
          <!-- Carousel nav -->
          <a class="carousel-control left" href="#myCarousel" data-slide="prev">&lsaquo;</a>
          <a class="carousel-control right" href="#myCarousel" data-slide="next">&rsaquo;</a>
        </div>
      </div><!--/row-->

      <hr>

      <footer>
        <!--<p>&copy; Mario Gehnke 2012</p>-->
      </footer>

    </div><!--/.fluid-container-->
     
    <!-- Modal -->
    <div id="techModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
        <h3 id="myModalLabel">Modal header</h3>
      </div>
      <div class="modal-body">
        <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>
        <hr />
        <div class="row">
          <div class="span2">
            <a class="btn btn-block" href="#">Bauen<br />sdf</a>
            <a class="btn btn-block" href="#">Bauen</a>
            <a class="btn btn-block" href="#">Bauen</a>
            <a class="btn btn-block" href="#">Bauen</a>
          </div>
          <div class="span3">
            <a data-placement="bottom" rel="tooltip" href="#" data-original-title="Ticks"><i class="icon-time"></i> 5 </a>
            <a data-placement="bottom" rel="tooltip" href="#" data-original-title="Credits"><i class="icon-globe"></i> 123456 </a>
            <a data-placement="bottom" rel="tooltip" href="#" data-original-title="Supply"><i class="icon-user"></i> 155/322 </a>
            <a data-placement="bottom" rel="tooltip" href="#" data-original-title="Moral"><i class="icon-globe"></i> gut </a>
            <a data-placement="bottom" rel="tooltip" href="#" data-original-title="Eisen"><i class="icon-align-justify"></i> 12345 </a>
            <a data-placement="bottom" rel="tooltip" href="#" data-original-title="Wasser"><i class="icon-tint"></i> 12345 </a>
            <a data-placement="bottom" rel="tooltip" href="#" data-original-title="Silikate"><i class="icon-leaf"></i> 12345 </a>
            <a data-placement="bottom" rel="tooltip" href="#" data-original-title=""><i class="icon-globe"></i> 12345 </a>
            <a data-placement="bottom" rel="tooltip" href="#" data-original-title=""><i class="icon-globe"></i> 12345 </a>
            <a data-placement="bottom" rel="tooltip" href="#" data-original-title=""><i class="icon-globe"></i> 12345 </a>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
        <!--<button class="btn btn-primary">Save changes</button>-->
      </div>
    </div>


    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="http://code.jquery.com/jquery-latest.js"></script>
    <script src="js/bootstrap.js"></script>
    <script type="text/javascript">
    $(document).ready(function(){
      $('#myCarousel').carousel({ 
         interval:1500, 
         pause: true 
        }); 
      $('#myCarousel').carousel('pause');
      $('[rel=tooltip]').tooltip();

      $('.carousel-control.left').hide();

      $('.carousel-control.left').click(function(e){
        $(this).hide();
        $('.carousel-control.right').show();
      })

      $('.carousel-control.right').click(function(e){
        $(this).hide();
        $('.carousel-control.left').show();
      })

      function draw_requirement(src, trgt) {
        var srcpos = src.position();
        var trgtpos = trgt.position();

        if (srcpos.left <= trgtpos.left) {
          left = srcpos.left + src.width();
          right = trgtpos.left;
        } else {
          left = trgtpos.left + trgt.width();
          right = srcpos.left;
        }

        xa = left;
        xm = xb = xc = Math.round( (right + left) / 2 );
        xd = right;

        ya = yb = Math.round( (srcpos.top  + src.height())  / 2);
        yc = yd = Math.round( (trgtpos.top + trgt.height()) / 2);
        ym = Math.round( (yb+yc) / 2 );

        function makeSVG(tag, attrs = {}) {
          var el= document.createElementNS('http://www.w3.org/2000/svg', tag);
          for (var k in attrs)
            el.setAttribute(k, attrs[k]);
          return el;
        }

        var group = makeSVG('g')
        group.appendChild(makeSVG('line', {x1:xa, y1:ya, x2:xb, y2:yb, stroke: 'black'}));
        group.appendChild(makeSVG('line', {x1:xb, y1:yb, x2:xc, y2:yc, stroke: 'black'}));
        group.appendChild(makeSVG('line', {x1:xc, y1:yc, x2:xd, y2:yd, stroke: 'black'}));
        group.appendChild(makeSVG('rect', {x:xm, y:ym, height:'6%', width:'6%', fill: 'white'}));
        //group.appendChild(makeSVG('text', {x1:xa, y1:ya, x2:xb, y2:yb, font-family:'Verdana'}));
        document.getElementById('stage1-svg').appendChild(group);

      }

      src = $('#a1 a');
      trgt = $('#b3 a');
      draw_requirement(src, trgt);


    });
    </script>

  </body>
</html>
